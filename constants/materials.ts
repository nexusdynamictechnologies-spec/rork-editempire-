export const materialsKnowledge = `
🎨 COMPREHENSIVE MATERIALS & TEXTURES INTELLIGENCE SYSTEM

This system provides deep understanding of materials, textures, finishes, and surface properties to ensure accurate, photorealistic rendering of any material requested by the user.

═══════════════════════════════════════════════════════════════════════════════
📚 PAINT FINISHES & SURFACE TREATMENTS
═══════════════════════════════════════════════════════════════════════════════

🎨 AUTOMOTIVE PAINT FINISHES:

1. GLOSS PAINT (High Shine):
   - Mirror-like reflections with sharp, defined highlights
   - Deep color saturation with rich, vibrant appearance
   - Clear coat creates glass-like surface with perfect smoothness
   - Strong specular highlights that follow light sources precisely
   - Reflections of surrounding environment are crisp and clear
   - Color depth appears to have multiple layers of richness
   - Surface appears wet or freshly polished
   - Light bounces off surface creating bright, concentrated hotspots

2. MATTE PAINT (Flat Finish):
   - Zero reflections or shine - completely diffuse surface
   - Soft, velvety appearance with no specular highlights
   - Color appears uniform without depth variations
   - Light is absorbed and scattered evenly across surface
   - No environmental reflections visible
   - Appears dry and powdery in texture
   - Color looks flat but can be very saturated
   - Surface has subtle texture that prevents light reflection

3. SATIN PAINT (Semi-Gloss):
   - Soft, subtle sheen with gentle reflections
   - Balanced between matte and gloss - not too shiny, not too flat
   - Specular highlights are present but diffused and soft-edged
   - Slight environmental reflections that are blurred
   - Color has moderate depth and richness
   - Appears smooth but not mirror-like
   - Light creates soft glow rather than sharp highlights
   - Professional, sophisticated appearance

4. METALLIC PAINT:
   - Contains metal flakes that create sparkle effect
   - Color shifts and changes based on viewing angle
   - Micro-reflections from individual metal particles
   - Appears to have depth with layers of sparkle
   - Highlights have prismatic, multi-toned quality
   - Base color with overlaid metallic shimmer
   - Light creates dancing, glittering effect
   - Flakes catch light at different angles creating dynamic appearance

5. PEARL PAINT (Pearlescent):
   - Iridescent quality with color-shifting properties
   - Appears to change color from different viewing angles
   - Soft, luminous glow from within the paint
   - Contains mica particles that refract light
   - Creates rainbow-like subtle color variations
   - Depth appears multi-dimensional
   - Smooth, lustrous finish like actual pearls
   - Highlights have soft, ethereal quality

6. CANDY PAINT:
   - Translucent color over metallic base
   - Extremely deep, rich color saturation
   - Appears to glow from within
   - Multiple layers create incredible depth
   - Highlights show base metallic through candy layer
   - Color intensity varies with paint thickness
   - Wet, liquid-like appearance
   - Dramatic, eye-catching finish

7. CHROME PAINT:
   - Mirror-like reflections of entire environment
   - Appears like polished metal surface
   - Perfect, undistorted reflections
   - Extremely high specular highlights
   - Minimal color - mostly reflective silver
   - Surface appears liquid metal
   - Reflections are sharp and clear
   - Light creates intense, bright hotspots

8. CHAMELEON PAINT:
   - Dramatic color shift from multiple angles
   - Can show 3-5 different colors depending on viewpoint
   - Iridescent, holographic appearance
   - Color transitions are smooth and gradual
   - Appears to change color as you move around it
   - Combines metallic and pearl effects
   - Highly dynamic and attention-grabbing
   - Light angle dramatically affects perceived color

═══════════════════════════════════════════════════════════════════════════════
💎 PRECIOUS MATERIALS & GEMSTONES
═══════════════════════════════════════════════════════════════════════════════

💎 DIAMOND:
   - Extreme brilliance with rainbow fire (dispersion)
   - Multiple internal reflections creating sparkle
   - Facets create geometric light patterns
   - Transparent with high refractive index
   - Sharp, bright highlights on each facet
   - Light splits into spectral colors inside stone
   - Appears to emit light from within
   - Crisp, clean edges with perfect clarity
   - Caustic light patterns cast on nearby surfaces

💚 EMERALD:
   - Deep, rich green with slight transparency
   - Internal inclusions create "jardin" (garden) effect
   - Softer sparkle than diamond
   - Color saturation is intense and pure
   - Slight internal glow
   - Facets show color depth variations
   - May have slight cloudiness adding character
   - Green color ranges from forest to bright grass green

🔴 RUBY:
   - Deep red with internal glow
   - Transparent to translucent
   - Rich, saturated red color
   - Slight purple or pink undertones
   - Facets create depth and dimension
   - Light passes through creating red glow
   - Appears to have inner fire
   - Color intensity varies with light angle

🔵 SAPPHIRE:
   - Deep blue with excellent clarity
   - Transparent with high brilliance
   - Color ranges from cornflower to deep navy
   - Facets create geometric light patterns
   - Slight color zoning may be visible
   - High refractive index creates sparkle
   - Appears luminous from within
   - Clean, crisp appearance

🟡 GOLD:
   - Warm, yellow metallic luster
   - Soft, buttery reflections
   - Does not tarnish - maintains shine
   - Smooth, polished surface
   - Reflections are warm-toned
   - Appears heavy and substantial
   - Highlights are golden yellow
   - Can be polished to mirror finish or brushed for satin look

🔘 SILVER:
   - Cool, white metallic luster
   - Bright, mirror-like reflections
   - Can tarnish showing darker areas
   - Highly reflective when polished
   - Cooler tone than gold
   - Appears lighter and brighter
   - Reflections are neutral white
   - Can be oxidized for darker, aged look

🟤 BRONZE:
   - Warm, reddish-brown metallic color
   - Develops green patina over time
   - Slightly rough texture when aged
   - Warm, earthy reflections
   - Can show verdigris (green oxidation)
   - Appears substantial and heavy
   - Aged bronze has character and depth
   - Polished bronze is warm and lustrous

═══════════════════════════════════════════════════════════════════════════════
🌳 NATURAL MATERIALS & ORGANIC TEXTURES
═══════════════════════════════════════════════════════════════════════════════

🌳 WOOD GRAIN:
   - Visible growth rings and grain patterns
   - Color variations from light to dark within grain
   - Natural knots and imperfections
   - Directional texture following grain lines
   - Can be smooth (polished) or rough (raw)
   - Absorbs light differently along vs across grain
   - Warm, organic appearance
   - Each piece has unique pattern

🪨 STONE TEXTURES:

   GRANITE:
   - Speckled appearance with multiple colors
   - Crystalline structure visible
   - Hard, polished surface when finished
   - Natural variations and patterns
   - Can be highly polished or honed matte
   - Appears solid and substantial
   - Color flecks create visual interest

   MARBLE:
   - Veined patterns running through stone
   - Smooth, polished surface
   - Translucent quality in thin sections
   - Veins can be subtle or dramatic
   - Color ranges from pure white to dark
   - Appears elegant and luxurious
   - Polished surface has soft sheen

   CONCRETE:
   - Rough, porous texture
   - Gray color with variations
   - May show aggregate (stones) in surface
   - Matte, non-reflective finish
   - Can have smooth troweled or rough cast texture
   - Industrial, modern appearance
   - May show cracks or weathering

🌾 FABRIC TEXTURES:

   COTTON:
   - Soft, matte appearance
   - Slight texture from woven threads
   - Absorbs light evenly
   - Can show wrinkles and folds naturally
   - Appears comfortable and casual
   - Natural fiber texture visible up close

   SILK:
   - Smooth, lustrous surface
   - Soft sheen with subtle highlights
   - Drapes elegantly with flowing folds
   - Appears luxurious and delicate
   - Light creates soft, flowing highlights
   - Color appears rich and saturated

   DENIM:
   - Diagonal twill weave pattern
   - Slightly rough texture
   - Blue color with white warp threads visible
   - Can show fading and wear patterns
   - Appears sturdy and casual
   - Texture creates subtle depth

   LEATHER:
   - Smooth or textured surface
   - Natural grain patterns
   - Soft sheen when polished
   - Can show creases and wear
   - Appears substantial and durable
   - Ages with character and patina

═══════════════════════════════════════════════════════════════════════════════
🏗️ INDUSTRIAL & CONSTRUCTION MATERIALS
═══════════════════════════════════════════════════════════════════════════════

🔩 METAL FINISHES:

   BRUSHED METAL:
   - Linear grain pattern from brushing
   - Directional reflections along grain
   - Matte to satin sheen
   - Appears industrial and modern
   - Hides fingerprints and scratches
   - Subtle, sophisticated appearance

   POLISHED METAL:
   - Mirror-like reflections
   - Smooth, flawless surface
   - High specular highlights
   - Appears pristine and clean
   - Shows environment reflections clearly
   - Can be chrome, stainless, or aluminum

   OXIDIZED METAL:
   - Darkened, aged appearance
   - Rough, textured surface
   - Rust (iron) or patina (copper/bronze)
   - Color variations from oxidation
   - Appears weathered and industrial
   - Matte, non-reflective finish

🧱 BRICK:
   - Rough, porous texture
   - Red, brown, or tan color
   - Mortar joints between bricks
   - Slightly irregular surface
   - Matte finish
   - Shows weathering and age
   - Appears solid and substantial

🪟 GLASS:

   CLEAR GLASS:
   - Transparent with slight reflections
   - Refracts light passing through
   - Shows environment reflections on surface
   - Can have slight green or blue tint
   - Appears clean and pristine
   - Highlights are bright and sharp

   FROSTED GLASS:
   - Translucent, not transparent
   - Diffuses light passing through
   - Soft, milky appearance
   - No clear reflections
   - Appears smooth but not shiny
   - Creates privacy while allowing light

   TEXTURED GLASS:
   - Patterns embossed in surface
   - Distorts view through glass
   - Creates interesting light patterns
   - Can be rippled, bubbled, or geometric
   - Appears decorative and artistic

═══════════════════════════════════════════════════════════════════════════════
🎨 SPECIAL EFFECT FINISHES
═══════════════════════════════════════════════════════════════════════════════

✨ GLITTER:
   - Thousands of tiny reflective particles
   - Sparkles and catches light from all angles
   - Creates dynamic, shimmering effect
   - Individual particles visible up close
   - Appears festive and eye-catching
   - Light creates dancing reflections

🌈 HOLOGRAPHIC:
   - Rainbow color shifts
   - Prismatic light diffraction
   - Appears to change color with movement
   - Futuristic, high-tech appearance
   - Multiple colors visible simultaneously
   - Creates optical illusion effects

🔮 IRIDESCENT:
   - Subtle color shifts like oil on water
   - Appears to glow with inner light
   - Colors change with viewing angle
   - Soft, ethereal quality
   - Creates magical, otherworldly effect
   - Similar to soap bubbles or butterfly wings

💫 PHOSPHORESCENT (Glow in Dark):
   - Absorbs light and re-emits it
   - Glows in darkness
   - Soft, ethereal glow
   - Color is typically green or blue
   - Appears to emit light from within
   - Fades gradually over time

🌟 FLUORESCENT:
   - Extremely bright, saturated colors
   - Appears to glow under normal light
   - Highly visible and attention-grabbing
   - Colors are unnaturally vivid
   - Appears almost luminous
   - Common in safety equipment

═══════════════════════════════════════════════════════════════════════════════
🎯 MATERIAL RENDERING PROTOCOLS
═══════════════════════════════════════════════════════════════════════════════

When rendering ANY material, apply these critical principles:

1. SURFACE PROPERTIES:
   - Roughness: How diffuse vs specular the surface is
   - Reflectivity: How much light bounces off vs absorbs
   - Transparency: How much light passes through
   - Refraction: How light bends passing through
   - Subsurface Scattering: Light penetrating and scattering inside

2. LIGHTING INTERACTION:
   - Specular Highlights: Bright spots where light reflects directly
   - Diffuse Reflection: Soft, even light scattering
   - Ambient Occlusion: Darkening in crevices and corners
   - Fresnel Effect: Reflectivity increases at grazing angles
   - Caustics: Focused light patterns from refraction

3. TEXTURE DETAILS:
   - Micro-surface variation: Small bumps, scratches, imperfections
   - Macro-structure: Overall pattern and form
   - Normal mapping: Surface angle variations
   - Displacement: Actual geometric depth
   - Color variation: Natural inconsistencies in color

4. PHYSICAL ACCURACY:
   - Material behaves according to real-world physics
   - Light interaction is scientifically accurate
   - Reflections follow proper angles and intensity
   - Transparency and refraction are realistic
   - Surface properties are consistent

5. CONTEXTUAL INTEGRATION:
   - Material responds to scene lighting
   - Receives and casts appropriate shadows
   - Reflects surrounding environment accurately
   - Appears naturally integrated in scene
   - Scale and proportion are correct

═══════════════════════════════════════════════════════════════════════════════
🔬 ADVANCED MATERIAL PROPERTIES
═══════════════════════════════════════════════════════════════════════════════

PHYSICALLY BASED RENDERING (PBR) PRINCIPLES:

1. ENERGY CONSERVATION:
   - Reflected + Absorbed + Transmitted = 100% of incoming light
   - Surface cannot reflect more light than it receives
   - Darker materials absorb more, lighter materials reflect more

2. FRESNEL REFLECTANCE:
   - All materials become more reflective at grazing angles
   - Effect is stronger on dielectrics (non-metals)
   - Metals maintain consistent reflectivity at all angles

3. MICROSURFACE DETAIL:
   - Real surfaces are never perfectly smooth
   - Microscopic roughness affects light scattering
   - Rougher surfaces = more diffuse reflections
   - Smoother surfaces = sharper reflections

4. MATERIAL TYPES:

   DIELECTRICS (Non-Metals):
   - Low reflectivity at perpendicular angles (2-5%)
   - Strong Fresnel effect
   - Can be transparent or opaque
   - Colored diffuse reflection
   - Examples: plastic, wood, stone, fabric

   METALS:
   - High reflectivity (60-90%)
   - Weak Fresnel effect
   - Always opaque
   - Colored specular reflection
   - No diffuse reflection
   - Examples: gold, silver, copper, iron

═══════════════════════════════════════════════════════════════════════════════
🎨 PAINT COLOR UNDERSTANDING
═══════════════════════════════════════════════════════════════════════════════

When user requests a paint color, understand these aspects:

COLOR PROPERTIES:
- Hue: The actual color (red, blue, green, etc.)
- Saturation: How pure/vivid vs gray/muted
- Brightness: How light vs dark
- Temperature: Warm (red/yellow) vs Cool (blue/green)

COMMON COLOR REQUESTS:

REDS:
- Cherry Red: Bright, pure red with slight blue undertone
- Candy Apple Red: Deep, glossy red with metallic sparkle
- Burgundy: Dark red with purple undertone
- Crimson: Rich, deep red
- Scarlet: Bright, slightly orange red

BLUES:
- Navy Blue: Very dark blue, almost black
- Royal Blue: Rich, vibrant medium blue
- Sky Blue: Light, bright blue
- Cobalt Blue: Deep, pure blue
- Teal: Blue-green mixture

GREENS:
- Forest Green: Dark, rich green
- Lime Green: Bright, yellow-green
- Emerald Green: Rich, jewel-tone green
- Mint Green: Light, pastel green
- Olive Green: Muted, brownish green

BLACKS & WHITES:
- Jet Black: Pure, deep black
- Matte Black: Flat black with no shine
- Pearl White: White with iridescent shimmer
- Cream White: Warm, off-white
- Ivory: Slightly yellow white

METALLICS:
- Silver: Cool, bright metallic
- Gold: Warm, yellow metallic
- Bronze: Warm, brown metallic
- Gunmetal: Dark gray metallic
- Rose Gold: Pink-tinted gold

═══════════════════════════════════════════════════════════════════════════════
🎯 EXECUTION PROTOCOL FOR MATERIAL CHANGES
═══════════════════════════════════════════════════════════════════════════════

When user requests a material or paint change:

1. IDENTIFY THE TARGET:
   - What object/surface is being changed?
   - What is the current material?
   - What is the desired material?

2. PRESERVE STRUCTURE:
   - Maintain exact shape and form
   - Keep all geometric details
   - Preserve edges and boundaries
   - Maintain scale and proportions

3. APPLY MATERIAL PROPERTIES:
   - Use correct surface finish (gloss, matte, etc.)
   - Apply appropriate texture details
   - Set correct reflectivity and roughness
   - Add proper color and saturation

4. LIGHTING INTEGRATION:
   - Material responds to scene lighting
   - Specular highlights in correct positions
   - Shadows and ambient occlusion accurate
   - Reflections match environment

5. QUALITY ASSURANCE:
   - Material looks photorealistic
   - Properties are physically accurate
   - Integration is seamless
   - No artifacts or inconsistencies

═══════════════════════════════════════════════════════════════════════════════

This comprehensive materials knowledge ensures that ANY material, texture, finish, or paint type requested by the user will be rendered with complete accuracy, proper physical properties, and photorealistic quality.
`;

export function enhancePromptWithMaterialsKnowledge(prompt: string): string {
  const lower = prompt.toLowerCase();
  
  // Check if prompt contains material/texture/paint keywords
  const materialKeywords = [
    'paint', 'color', 'texture', 'material', 'finish', 'surface',
    'gloss', 'matte', 'metallic', 'chrome', 'pearl', 'candy',
    'diamond', 'gold', 'silver', 'emerald', 'ruby', 'sapphire',
    'wood', 'stone', 'concrete', 'brick', 'glass', 'metal',
    'leather', 'fabric', 'silk', 'cotton', 'denim',
    'glitter', 'holographic', 'iridescent', 'fluorescent',
    'brushed', 'polished', 'oxidized', 'frosted', 'textured'
  ];
  
  const hasMaterialRequest = materialKeywords.some(keyword => lower.includes(keyword));
  
  if (hasMaterialRequest) {
    return `${prompt}\n\n${materialsKnowledge}`;
  }
  
  return prompt;
}
